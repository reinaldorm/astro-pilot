---
import Headline from '@components/generic/Headline.astro';
import Project from '@components/generic/Project.astro';
import PostLink from '@components/post/PostLink.astro';
import BaseLayout from '@layouts/BaseLayout.astro';

const repos = await fetch("https://api.github.com/users/reinaldorm/repos").then(res => res.json()) as Repo[];
const posts = await Astro.glob('./posts/*.mdx');
---

<BaseLayout>
	<Headline headline="Hi, Reinaldo here!" big>
		<p class="text-gray-800 text-base">
			Looks like you've just stumbled on my humble, not finished yet wonderful personal website and, since you're here (for whatever the reason) why not to take a look? You'll see some projects I've made and things I've written throughout my yet not started Frontend Developer Career.
		</p>		
	</Headline>
	<Headline headline="Repositories">
		<ul class="grid grid-cols-2 gap-2.5 max-sm:grid-cols-1">
			{repos.map((repo) => <Project repo={repo!} />)}
		</ul>
	</Headline>
	<Headline headline="Blog"> 
		<ul>
			{posts.map(({ url, frontmatter }) => <PostLink url={url!} description={frontmatter.description} title={frontmatter.title} />)}
		</ul>
	</Headline>
</BaseLayout>
